<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Unlock PDF - EDITSMYPDF</title>

    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet" />
    <link rel="stylesheet" href="../assets/styles.css" />
  <link rel="canonical" href="https://editmypdf.tech/features/unlock.html" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.16.105/pdf.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.16.105/pdf.worker.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf-lib/1.17.1/pdf-lib.min.js"></script>
    <style>
      /* Minimal, aligned layout mirroring Password Protect */
      .unlock-card { max-width: 760px; margin: 0 auto; padding: 2.5rem; }
      .unlock-card .upload-box { margin-top: .6rem; margin-bottom: 1.4rem; min-height:160px; display:flex; align-items:center; justify-content:center; font-size:1.05rem; }
      .field { max-width: 520px; margin: 1.1rem auto 0; text-align: left; }
      .field label { display:block; margin:.25rem 0 .45rem; color:#444; font-weight:600; }
      .field input { width:100%; }
      .actions { display:flex; justify-content:center; gap:.9rem; flex-wrap:wrap; margin-top:1.25rem; }
      .file-info { margin-top: .5rem; color:#333; font-weight:500; font-size:.95rem; min-height:1.1rem; }
      /* Scoped Unlock guide styles */
      .unlock-guide{max-width:900px;margin:2.6rem auto 0;padding:0 1rem;text-align:left}
      .unlock-guide .eyebrow{display:inline-block;padding:.25rem .6rem;border-radius:999px;border:1px solid #e9ecf3;background:linear-gradient(90deg,#fff,#f7f8ff);font-size:.85rem;color:#333}
      .unlock-guide h2{font-size:2.15rem;line-height:1.2;margin:.65rem 0 .45rem}
      .unlock-guide .sub{color:#60636c;margin:0 0 1.2rem}
      .unlock-guide .meta{font-size:.92rem;color:#777;margin-bottom:1.2rem}
      .unlock-guide .hero{display:grid;gap:1rem;grid-template-columns:1.15fr .85fr;align-items:center;border:1px solid #e9ecf3;border-radius:20px;padding:1.1rem;background:#fff;box-shadow:0 8px 24px rgba(0,0,0,.05)}
      .unlock-guide .cta{display:inline-flex;align-items:center;gap:.55rem;font-weight:700;background:linear-gradient(90deg,#6366f1,#2563eb);color:#fff;padding:.8rem 1.05rem;border-radius:12px;text-decoration:none;box-shadow:0 6px 16px rgba(37,99,235,.25)}
      .unlock-guide .viz{width:100%;height:auto;border:1px solid #e9ecf3;border-radius:16px;overflow:hidden}
      .unlock-guide article{margin-top:2rem}
      .unlock-guide h3{font-size:1.35rem;margin:1.6rem 0 .6rem}
      .unlock-guide p{margin:0 0 1rem}
      .unlock-guide .grid{display:grid;gap:1rem}
      @media (min-width:800px){ .unlock-guide .grid{grid-template-columns:1fr 1fr} }
      .unlock-guide .card{border:1px solid #e9ecf3;border-radius:16px;padding:1rem;background:#fff;box-shadow:0 6px 18px rgba(0,0,0,.04)}
      .unlock-guide figure{margin:0}
      .unlock-guide figcaption{font-size:.85rem;color:#666;margin-top:.5rem}
      .unlock-guide .tip{background:#f8faff;border-left:4px solid #2563eb;border-radius:10px;padding:1rem;margin:.9rem 0}
      .unlock-guide .legal{background:#fff8f0;border-left:4px solid #f59e0b;border-radius:10px;padding:1rem;margin:1.2rem 0}
      .unlock-guide .faq details{border:1px solid #e9ecf3;border-radius:12px;padding:.75rem 1rem;background:#fff}
      .unlock-guide .faq details+details{margin-top:.75rem}
      .unlock-guide .kbd{font-family:ui-monospace,SFMono-Regular,Menlo,Consolas,monospace;background:#f5f7fb;border:1px solid #e7ebf3;padding:.15rem .35rem;border-radius:6px;font-size:.9rem}
    </style>
  </head>
  <body>
    <header data-include="navbar"></header>
    <div id="ad-top" class="ad-slot"></div>

  <main class="feature">
      <h2>Unlock PDF</h2>
      <p class="sub">
        Remove password protection (processing happens entirely in your
        browser). Only unlock PDFs you own or have explicit permission to
        modify.
      </p>

      <div class="card feature-enter unlock-card">
        <label class="upload-box" id="drop-zone">
          üìÑ Drop your PDF here or click to upload
          <input
            type="file"
            id="file-input"
            accept="application/pdf"
            style="display: none"
          />
        </label>

        <div id="file-info" class="file-info"></div>

        <div class="field">
          <label for="password">Password (if required)</label>
          <input
            type="password"
            id="password"
            placeholder="Enter password if prompted"
          />
        </div>

        <div class="field">
          <label for="output-name">Output filename</label>
          <input
            type="text"
            id="output-name"
            placeholder="e.g., unlocked"
            value="unlocked"
          />
        </div>

        <div class="actions">
          <button id="unlock-btn" class="primary" disabled>Unlock PDF</button>
        </div>
        <div id="status" class="progress"></div>
        <div class="actions">
          <button id="download-btn" class="primary" style="display: none">
            Download Unlocked PDF
          </button>
        </div>
  </div>

  <div id="ad-content" class="ad-slot"></div>
      <!-- Long-form Unlock PDF guide -->
      <section class="feature-blog unlock-guide" aria-labelledby="unlock-guide-title">
        <span class="eyebrow">Behind the Scenes</span>
        <h2 id="unlock-guide-title">Open Your Own Locked PDFs ‚Äî Safely, Quickly, and On-Device</h2>
        <p class="sub">Have a PDF that asks for a password every single time? If you&rsquo;re the owner or have permission to modify it, this tool creates an unlocked copy so you can open it directly. Here&rsquo;s how it works in your browser, plus tips and guardrails.</p>
        <p class="meta">Runs fully on your device ‚Ä¢ No uploads ‚Ä¢ For PDFs you own or are authorized to modify</p>

        <div class="hero" role="group" aria-label="Unlock overview and diagram">
          <div>
            <p>
              The Unlock tool rebuilds a fresh copy of your PDF without the 
              &ldquo;open password&rdquo; prompt. You choose the file, provide the correct 
              password (if needed), and download an unlocked version for easier access. 
              Everything happens <strong>locally</strong> in your browser ‚Äî private by design and fast for everyday documents.
            </p>
            <a class="cta" href="/features/unlock.html" aria-label="Open the Unlock PDF tool">üîì Unlock a PDF</a>
            <p style="margin:.6rem 0 0">Good practice: keep your original as <span class="kbd">file-protected.pdf</span> and save the unlocked copy with a clear name, e.g. <span class="kbd">file-unlocked.pdf</span>.</p>
          </div>

          <figure class="viz" role="img" aria-label="Unlock pipeline diagram">
            <img alt="Unlock PDF flow diagram" style="display:block;width:100%;height:auto"
                 src="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 940 320'><defs><linearGradient id='g' x1='0' x2='1'><stop offset='0%' stop-color='%236366f1'/><stop offset='100%' stop-color='%232563eb'/></linearGradient></defs><rect x='28' y='60' width='240' height='200' rx='16' fill='%23fff' stroke='%23dbe1ff'/><text x='148' y='96' text-anchor='middle' font-family='Inter,Arial' font-size='15' fill='%23333'>Locked PDF</text><rect x='58' y='120' width='180' height='120' rx='12' fill='%23ffe8e8' stroke='%23ffc8c8'/><text x='148' y='184' text-anchor='middle' font-size='13' fill='%23cc0000'>Password Required</text><rect x='330' y='60' width='280' height='70' rx='12' fill='%23eaf9ff' stroke='%23cfeaff'/><text x='470' y='100' text-anchor='middle' font-family='Inter,Arial' font-size='14' fill='%23333'>Enter correct password (if encrypted)</text><rect x='330' y='150' width='280' height='70' rx='12' fill='%23f7f8ff' stroke='%23e6e9ff'/><text x='470' y='190' text-anchor='middle' font-family='Inter,Arial' font-size='14' fill='%23333'>Rebuild fresh copy locally</text><rect x='650' y='60' width='260' height='200' rx='16' fill='%23fff' stroke='%23dbe1ff'/><text x='780' y='96' text-anchor='middle' font-family='Inter,Arial' font-size='15' fill='%23333'>Unlocked PDF</text><rect x='690' y='120' width='180' height='120' rx='12' fill='%23dcfce7' stroke='%23bbf7d0'/><text x='780' y='184' text-anchor='middle' font-size='13' fill='%23065f46'>Opens Directly</text><path d='M268 160 L330 95' stroke='url(%23g)' stroke-width='6'/><path d='M268 160 L330 185' stroke='url(%23g)' stroke-width='6'/><path d='M610 95 L650 160' stroke='url(%23g)' stroke-width='6'/><path d='M610 185 L650 160' stroke='url(%23g)' stroke-width='6'/></svg>"/>
            <figcaption>Provide a valid password (if needed) ‚Üí we rebuild a new copy on your device ‚Üí you download a version that opens without prompts.</figcaption>
          </figure>
        </div>

        <article aria-labelledby="unlock-guide-title">
          <h3>How unlocking works (in plain English)</h3>
          <p>
            A PDF can include an &ldquo;open password&rdquo; that every viewer must ask for. Our tool takes a practical, privacy-first approach:
          </p>
          <p>
            <strong>1) If the file isn&rsquo;t actually encrypted</strong> (some PDFs just have viewer flags), we quickly create a clean copy that opens normally. <strong>2) If the file is encrypted</strong>, you enter the correct password so the browser can read the pages securely. Then we write a fresh, unlocked copy you can open without entering a password again. Your original file remains unchanged.
          </p>

          <div class="grid">
            <div class="card">
              <h4 style="margin:.2rem 0 .4rem">What this is great for</h4>
              <ul style="margin:.2rem 0 0 1rem">
                <li>Files you unlock daily (reports, invoices, internal notes)</li>
                <li>Personal archives where you don&rsquo;t need constant prompts</li>
                <li>Sharing within a trusted group that doesn&rsquo;t require the gate</li>
              </ul>
            </div>
            <div class="card">
              <figure>
                <img alt="Before and after unlock illustration" style="display:block;width:100%;height:auto"
                     src="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='1200' height='620'><rect width='1200' height='620' fill='%23ffffff'/><text x='300' y='90' text-anchor='middle' font-size='22' fill='%23333'>Before</text><rect x='120' y='120' width='380' height='420' rx='12' fill='%23fff' stroke='%23e1e5ff'/><rect x='170' y='300' width='280' height='60' rx='12' fill='%23ffe8e8' stroke='%23ffc8c8'/><text x='310' y='335' text-anchor='middle' font-size='16' fill='%23cc0000'>Enter Password</text><text x='900' y='90' text-anchor='middle' font-size='22' fill='%23333'>After</text><rect x='720' y='120' width='380' height='420' rx='12' fill='%23fff' stroke='%23e1e5ff'/><rect x='820' y='320' width='180' height='50' rx='10' fill='%23dcfce7' stroke='%23bbf7d0'/><text x='910' y='350' text-anchor='middle' font-size='16' fill='%23065f46'>Opens Directly</text></svg>"/>
                <figcaption>Left: constant password prompt. Right: a copy that opens without it.</figcaption>
              </figure>
            </div>
          </div>

          <h3>Step-by-step: from prompt to open file</h3>
          <ol>
            <li><strong>Open:</strong> go to <span class="kbd">/features/unlock.html</span>.</li>
            <li><strong>Add your PDF:</strong> drag &amp; drop or click to choose a file.</li>
            <li><strong>If asked, enter the password:</strong> make sure caps/keyboard layout are correct.</li>
            <li><strong>Unlock:</strong> we read the pages and rebuild a fresh copy on your device.</li>
            <li><strong>Download &amp; test:</strong> save as <span class="kbd">filename-unlocked.pdf</span> and reopen to confirm it loads directly.</li>
          </ol>

          <div class="tip">
            <strong>Helpful tips:</strong><br />
            ‚Ä¢ Keep the original protected PDF for your records.<br />
            ‚Ä¢ If a file is very large, close heavy browser tabs before unlocking to free memory.<br />
            ‚Ä¢ Use clear, versioned names (e.g., <span class="kbd">proposal-v3-unlocked.pdf</span>).
          </div>

          <div class="legal">
            <strong>Important:</strong> Only unlock PDFs you <em>own</em> or have explicit permission to modify. This tool is designed for legitimate access and convenience ‚Äî not for bypassing protections on documents you don&rsquo;t have rights to. Some enterprise or rights-managed PDFs can&rsquo;t be unlocked without the correct credentials.
          </div>

          <h3>What it is (and isn&rsquo;t)</h3>
          <p>
            Unlocking here removes the <em>open password</em> from a copy. It doesn&rsquo;t try to break strong cryptography or remove digital rights management. If you don&rsquo;t know the password for an encrypted file, the tool can&rsquo;t recover it. Also, &ldquo;no copy/print&rdquo; flags may be treated differently by various readers ‚Äî those settings are advisory, not hard DRM.
          </p>

          <h3>Privacy by default</h3>
          <p>
            The entire process happens in your browser. We don&rsquo;t upload or store your files. Close the tab, and the working data disappears with it ‚Äî ideal for confidential contracts, IDs, marksheets, and internal paperwork.
          </p>

          <h3>FAQs</h3>
          <div class="faq">
            <details>
              <summary>Will the content quality change?</summary>
              <p>No for non-encrypted copies. For certain encrypted PDFs we may rebuild from page renders to ensure access; quality remains excellent for reading/printing, but extremely heavy zooming could differ from the original.</p>
            </details>
            <details>
              <summary>It says ‚ÄúIncorrect password.‚Äù What now?</summary>
              <p>Check caps lock and keyboard layout, then try again. If the file is corrupted or uses an unsupported encryption mode, unlocking may fail even with the right password.</p>
            </details>
            <details>
              <summary>Can I re-lock the file later?</summary>
              <p>Yes ‚Äî use our <strong>Password Protect</strong> tool to set a new passphrase when you need it.</p>
            </details>
          </div>

          <p class="sub" style="margin-top:1rem">Ready to remove the extra step? If you&rsquo;re authorized, create an unlocked copy on your device and open your PDF instantly ‚Äî no prompt, no upload, no stress.</p>
          <p><a class="cta" href="/features/unlock.html">Open Unlock Tool</a></p>
        </article>
      </section>
    </main>
    <div id="ad-footer" class="ad-slot"></div>
    <div data-include="footer"></div>

    <script>
      const pdfjsLib = window["pdfjs-dist/build/pdf"];
      if (pdfjsLib && pdfjsLib.GlobalWorkerOptions) {
        pdfjsLib.GlobalWorkerOptions.workerSrc =
          "https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.16.105/pdf.worker.min.js";
      }

      const dropZone = document.getElementById("drop-zone");
      const fileInput = document.getElementById("file-input");
      const fileInfo = document.getElementById("file-info");
      const unlockBtn = document.getElementById("unlock-btn");
      const statusText = document.getElementById("status");
      const downloadBtn = document.getElementById("download-btn");
      const passwordInput = document.getElementById("password");

      let srcBytes = null;
      let outBlob = null;

      dropZone.addEventListener("dragover", (e) => {
        e.preventDefault();
        dropZone.classList.add("dragover");
      });
      dropZone.addEventListener("dragleave", () =>
        dropZone.classList.remove("dragover")
      );
      dropZone.addEventListener("drop", async (e) => {
        e.preventDefault();
        dropZone.classList.remove("dragover");
        const f = e.dataTransfer.files[0];
        if (f) await loadFile(f);
      });
      fileInput.addEventListener("click", (e) => e.stopPropagation());
      fileInput.addEventListener("change", async (e) => {
        const f = e.target.files[0];
        if (f) await loadFile(f);
        e.target.value = "";
      });

      async function loadFile(f) {
        const sizeMB = (f.size / (1024 * 1024)).toFixed(2);
        fileInfo.textContent = `üìÑ ${f.name} (${sizeMB} MB uploaded)`;
        const buf = await f.arrayBuffer();
        srcBytes = new Uint8Array(buf);
        unlockBtn.disabled = false;
        statusText.textContent = "";
        downloadBtn.style.display = "none";
      }

      function getOutputName(defaultBase) {
        const el = document.getElementById("output-name");
        let name =
          (el && el.value ? el.value : "").trim() || defaultBase || "output";
        name = name.replace(/[\\/:*?"<>|]/g, "-");
        if (!/\.pdf$/i.test(name)) name += ".pdf";
        return name;
      }

      async function renderToImagesWithPassword(bytes, password) {
        // Attempt to open with provided password. If wrong/missing, will throw PasswordException.
        const task = pdfjsLib.getDocument({ data: bytes, password: password || undefined });
        const pdf = await task.promise; // will reject on incorrect password
        const pages = [];
        for (let i = 1; i <= pdf.numPages; i++) {
          const page = await pdf.getPage(i);
          const viewport = page.getViewport({ scale: 2.0 });
          const canvas = document.createElement("canvas");
          const ctx = canvas.getContext("2d");
          canvas.width = Math.floor(viewport.width);
          canvas.height = Math.floor(viewport.height);
          await page.render({ canvasContext: ctx, viewport }).promise;
          pages.push({ canvas, width: canvas.width, height: canvas.height });
        }
        return pages;
      }

      async function buildPDFViaPdfLib(pages) {
        const out = await PDFLib.PDFDocument.create();
        for (let i = 0; i < pages.length; i++) {
          const pg = pages[i];
          const imgBytes = await new Promise((res) =>
            pg.canvas.toBlob(
              (b) => {
                const r = new FileReader();
                r.onload = () => res(new Uint8Array(r.result));
                r.readAsArrayBuffer(b);
              },
              "image/jpeg",
              0.92
            )
          );
          const img = await out.embedJpg(imgBytes);
          const page = out.addPage([img.width, img.height]);
          page.drawImage(img, {
            x: 0,
            y: 0,
            width: img.width,
            height: img.height,
          });
        }
        const bytes = await out.save();
        return new Blob([bytes], { type: "application/pdf" });
      }

      // Fast path: if the PDF is not encrypted, simply copy pages using pdf-lib to preserve vector quality
      async function tryFastCopyViaPdfLib(bytes) {
        try {
          const srcDoc = await PDFLib.PDFDocument.load(bytes);
          const out = await PDFLib.PDFDocument.create();
          const pages = await out.copyPages(srcDoc, srcDoc.getPageIndices());
          pages.forEach((p) => out.addPage(p));
          const outBytes = await out.save();
          return new Blob([outBytes], { type: "application/pdf" });
        } catch (e) {
          // Likely encrypted or unsupported by pdf-lib; return null to trigger rasterization fallback
          return null;
        }
      }

      unlockBtn.addEventListener("click", async () => {
        if (!srcBytes) {
          statusText.textContent = "Please upload a PDF first.";
          return;
        }
        unlockBtn.disabled = true;
        statusText.textContent = "Checking encryption and unlocking...";
        try {
          // 1) Try fast vector-preserving copy for non-encrypted PDFs
          outBlob = await tryFastCopyViaPdfLib(srcBytes);
          if (outBlob) {
            statusText.textContent =
              "Unlocked (no encryption detected). Ready to download.";
            downloadBtn.style.display = "inline-block";
            return;
          }

          // 2) Fallback: open with password via pdf.js, rasterize pages, rebuild unencrypted PDF
          statusText.textContent =
            "Encrypted PDF detected. Rendering pages (this may take a moment)...";
          const enteredPassword = passwordInput.value || undefined;
          const pages = await renderToImagesWithPassword(srcBytes, enteredPassword);
          statusText.textContent = "Rebuilding unlocked PDF...";
          outBlob = await buildPDFViaPdfLib(pages);
          downloadBtn.style.display = "inline-block";
          statusText.textContent = "Unlocked PDF is ready.";
        } catch (e) {
          console.error(e);
          // Distinguish wrong password vs other errors
          if (e && e.name === 'PasswordException') {
            if (/incorrect/i.test(e.message)) {
              statusText.textContent = "Incorrect password. Please try again.";
            } else if (/password/i.test(e.message)) {
              statusText.textContent = "Password required. Enter it above and press Unlock.";
            } else {
              statusText.textContent = "Could not unlock: password error.";
            }
          } else {
            statusText.textContent = "Failed to unlock PDF (unsupported encryption or corrupt file).";
          }
        } finally {
          unlockBtn.disabled = false;
        }
      });

      downloadBtn.addEventListener("click", () => {
        if (!outBlob) return;
        const url = URL.createObjectURL(outBlob);
        const a = document.createElement("a");
        a.href = url;
        a.download = getOutputName("unlocked");
        a.click();
        URL.revokeObjectURL(url);
      });
    </script>
    <script src="../assets/app.js"></script>
  </body>
</html>
